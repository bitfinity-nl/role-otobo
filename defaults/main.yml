---
# Title: OTOBO Ticket system
#
# Authtor: bitfinity-nl
# File: defaults/main.yml
#
# Description:
#   OTOBO is the new free Open Source ticket system 
#   with strong functionality AND a great look.


# -- OTOBO settings --
#
# Variable(s):
#   otobo_version      : 'otrs-6.0.19'                                            # Version of OTOBO
#   otobo_download_url : 'https://ftp.otrs.org/pub/otrs/{{ otrs_version }}.zip'   # Url where to download the resources.
#   otobo_dest         : '/opt/otrs-workingdir/releases/{{ otrs_version }}/       # Destination to unarchive the resources.
#   otobo_backups      : '/opt/otrs-workingdir/backups/'                          # Where to place the OTRS backups.
#   otobo_email        : 'support@example.net'                                    # Set support mail address for Apache2.
#   otobo_fqdn         : 'servicedesk.example.net'                                # Set fqdn from the site.
#
otobo_version                 : 'otobo-latest-10.0'
otobo_download_url            : 'https://ftp.otobo.org/pub/otobo/{{ otobo_version }}.tar.gz'
otobo_dest                    : '/opt/otobo/'
otobo_backups                 : '/opt/otobo-workingdir/backups/'
otobo_root_password           : '123654' 

# - OTOBO Installer.pl settings --
otobo_systemid                : '24'
otobo_httptype                : 'http'
otobo_adminemail              : '{{ otobo_email }}'
otobo_organization            : 'The example Companay'

# -- OTOBO Apache2 settings --
otobo_email                   : 'support@example.net'
otobo_ServerName              : '{{ ansible_hostname }}'
otobo_ServerAlias             : 'servicedesk.example.net'
otobo_SSLCertificateFile      : '/etc/letsencrypt/live/{{ otobo_ServerAlias }}/cert.pem'
otobo_SSLCertificateKeyFile   : '/etc/letsencrypt/live/{{ otobo_ServerAlias }}/privkey.pem'
otobo_SSLCertificateChainFile : '/etc/letsencrypt/live/{{ otobo_ServerAlias }}/chain.pem'

# -- MySQL User settings --
#
# Variable(s):
#   otobo_sys_user : 'root'      # Administrative User.
#   otobo_sys_pass : 'password'  # Administrative password.
#   otobo_db_name  : 'otobo'     # Database name. 
#   otobo_db_user  : 'otobo'     # Database user.
#   otobo_db_pass  : 'password'  # Database password.
#   
otobo_sys_user : '{{ def_mariadb_user }}'
otobo_sys_pass : '{{ def_mariadb_pass }}'
otobo_db_name  : 'otobo' 
otobo_db_user  : 'otobo'
otobo_db_pass  : 'password'


# -- MariaDB Database settings --
#
# File: my.cnf.j2 --> my-otrs.cnf
#
# Variable(s):
#   otobo_my_max_allowed_packet   : '64M'
#   otobo_my_query_cache_size     : '36M'
#   otobo_my_innodb_log_file_size : '256M'
#   otobo_my_character_set_server : 'utf8'
#
# Comment:
#   See MariaDB documentation for more information.
#
otobo_my_max_allowed_packet   : '64M'
otobo_my_query_cache_size     : '36M'
otobo_my_innodb_log_file_size : '256M'
otobo_my_character_set_server : 'utf8'


# -- AD/LDAP (authentication) backend configuration --
#
# Variable(s): 
#   otobo_ad_status       : 'disabled'                                                              # Enable AD/LDAP authentication (Leave First run disabled).  
#   otobo_ad_dc           : 'dc01.example.net'                                                      # IP or hostname to DC or LDAP server.
#   otobo_ad_basedn       : 'ou=example,dc=example,dc=net'                                          # Base DN (for searching users/agents).
#   otobo_ad_uid          : 'sAMAccountName'                                                        # AD/LDAP authenticaton (default=sAMAccountName).
#   otobo_ad_groupdn      : 'cn=app_otrs_agent,ou=applications,ou=resources,{{ otrs_ad_basedn }}'   # Agents must be member of a security group.
#   otobo_ad_accessattr   : 'member'                                                                # Attribute to check if the user is member to the specificied security group.
#   otobo_ad_searchuserdn : 'CN=svc_otrs,OU=Service Accounts,{{ otrs_ad_basedn }}'                  # Service account for reading AD/LDAP. 
#   otobo_ad_searchuserpw : 'Atyourserv1c3'                                                         # Password for service account.
#
#   -- Administrative account for OTRS --
#   otobo_ad_account      : 'adm_otrs'                                                              # AD/LDAP administrative account for OTRS (should exist in AD/LDAP).
#   otobo_ad_firstname    : '{{ otrs_ad_account }}'                                                 # Firstname of the administrative account.
#   otobo_ad_lastname     : '{{ otrs_ad_account }}'                                                 # Lastname of the administrative account.
#   otobo_ad_email        : 'adm_otrs@example.com'                                                  # E-mail address of the administrative account.
#
# Comment:
#   For more information read:
#     - file: tasks/ldap-configuration
#     - url:  https://doc.otobo.org/manual/admin/stable/en/content/users-groups-roles/agents.html
#
otobo_ad_status       : 'enabled'
otobo_ad_dc           : '{{ def_ad_dc01 }}'
otobo_ad_basedn       : '{{ def_ad_basedn }}'
otobo_ad_uid          : 'sAMAccountName'
otobo_ad_groupdn      : 'cn=app_otobo_agent,ou=applications,ou=resources,{{ otobo_ad_basedn }}'
otobo_ad_accessattr   : 'member'
otobo_ad_userattr     : 'DN'
otobo_ad_searchuserdn : 'CN=svc_otobo,OU=Service Accounts,OU=Users,{{ otobo_ad_basedn }}'
otobo_ad_searchuserpw : 'Atyourserv1c3'

otobo_ad_account      : 'adm_otobo'
otobo_ad_firstname    : '{{ otobo_ad_account }}'
otobo_ad_lastname     : '{{ otobo_ad_account }}'
otobo_ad_email        : '{{ otobo_email }}'
